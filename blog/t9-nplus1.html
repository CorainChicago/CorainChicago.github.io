<!DOCTYPE html>
<html>
<head>
  <title>Cora Hays-Magan</title>
  <link href='http://fonts.googleapis.com/css?family=Karla:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="../default.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head> 
<body>
  <header>
    <h1>Cora Hays-Magan</h1>
    <img id="profile" src="../imgs/profile.jpg">
    <nav>
        <h2><a href="http://corainchicago.github.io/">Home</a><h2>
        <h2><a href="http://corainchicago.github.io/#writing">Writing</a></h2>
        <h2><a href="http://corainchicago.github.io/portfolio.html">Portfolio</a></h2>
        <h2><a href="http://corainchicago.github.io/resume.html">Resume</a></h2>
        <h2><a href="http://corainchicago.github.io/about.html">About Me</a></h2>
      </nav>
      <h3>An enthusiastic coder</h3>
  </header>
  <section>
    <h1>N + 1 Render Problem</h1>
    <h2>Oh, is the page loading slow and hitting your database multiple times? Yes/h2>
    <h4>April 13, 2016</h4>
   </section> 
<section>
  <p>N + 1 problems had only been in theory or whiteboarding discussions, until I ran into one in the render of a page.</p> 
  <p>Here's what it looked like: </p>
  <pre class="ruby">
    <code>
      Cat Load (0.6ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 20)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.3ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 21)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.3ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 22)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.5ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 23)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.5ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 24)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.4ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 25)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.4ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 26)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.5ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 23)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.5ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (3, 28)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
      Cat Load (0.4ms)  SELECT "cats".* FROM "cats" WHERE "cats"."id" IN (2)  ORDER BY (case when cats.ancestry is null then 0 else 1 end), cats.ancestry
    </code>
  </pre>  

  <p><i>Lets be honest, the table loading was infinitely more boring than cats but was also production code - so you get cats.</i></p>

  <p>There was a dropdown which required the loading of the entire `Cats` table to display and another part of the page render which required the display of `Cats`.  So, the table was being queried twice to be displayed twice.</p>

  <p>No, no, no - not good. </p>

  <p>So what's this `n + 1` problem?  </p>


  

</section>
<footer>
    <p>Contact Me: I code, I pair, and I share</p>
    <address><a href="mailto: chaysmagan@gmail.com"> <img class ='icon' src="../imgs/Mail.png"></a>
    <a href="https://twitter.com/CorainChicago"><img class ='icon' src="../imgs/Twitter.png"></a>
    <a href="https://github.com/CorainChicago"><img class ='icon' src="../imgs/Github.png"></a>
    <a href="https://www.linkedin.com/pub/cora-hays-magan/1a/532/577"><img class ='icon' src="../imgs/Linkedin.png"></a>
    <a href ="https://speakerdeck.com/corainchicago"><img class ='icon' src="../imgs/speakerdeck.png"></a>
    </address>
  </footer>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-51171819-3', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
